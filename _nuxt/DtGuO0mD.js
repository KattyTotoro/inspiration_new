import{_ as p}from"./BC6icgLk.js";import{f,u as x,r as h,q as v,s as k,c as o,j as w,h as N,F as g,m as y,o as a,b as _,a as l,w as V,d as B,t as d,e as C,_ as L}from"./CHs4_4Lm.js";const $={class:"content"},b={key:0,class:"blockList"},j=f({__name:"index",setup(F){const n=x(),r=h([]);v(()=>{var e;!r.value.length&&((e=n.user)==null?void 0:e.role)=="moderator"&&c()});const c=async()=>{const s=await(await fetch("/api/post/moderate/")).json();r.value=(s==null?void 0:s.posts)||[]};return k(()=>n.user,e=>{(e==null?void 0:e.role)=="moderator"&&c()}),(e,s)=>{var i;const m=p,u=C;return a(),o("section",$,[((i=N(n).user)==null?void 0:i.role)=="moderator"?(a(),o("div",b,[(a(!0),o(g,null,y(r.value,t=>(a(),o("div",{class:"post",key:t.id},[_(m,{src:`${t.img}`,sizes:"300px"},null,8,["src"]),l("h2",null,[_(u,{to:`/lk/moderation/preview/${t.id}`},{default:V(()=>[B(d(t.title),1)]),_:2},1032,["to"])]),l("p",null,d(t.preview),1)]))),128))])):w("",!0)])}}}),q=L(j,[["__scopeId","data-v-32367fd3"]]);export{q as default};
