import{_ as w}from"./DPCZH2OY.js";import{f as B,p as L,l as V,r as k,c as e,h as t,a as s,b as v,t as r,F as $,m as b,n as C,o,w as N,d as F,e as S}from"./CHs4_4Lm.js";const T={class:"content"},H={key:0,class:"postPage"},M=["innerHTML"],P={class:"authorPost"},R={key:1},q={key:2},A={key:3,class:"blockList"},G=B({__name:"[id_title]",async setup(D){var d,p;let i,_;const y=L().params.id_title.toString().split("_",1)[0],{data:c}=([i,_]=V(()=>C(`/api/post/${y}`,"$VqRYVBp8S-")),i=await i,_(),i),n=k((d=c.value)==null?void 0:d.post),u=k((p=c.value)==null?void 0:p.posts);return(Y,a)=>{var m,h,f;const x=w,g=S;return o(),e("section",T,[t(n)?(o(),e("div",H,[s("h1",null,r((m=t(n))==null?void 0:m.title),1),a[0]||(a[0]=s("br",null,null,-1)),s("div",{innerHTML:(h=t(n))==null?void 0:h.text},null,8,M),a[1]||(a[1]=s("div",{style:{clear:"both"}},null,-1)),s("p",P,"Автор поста: "+r(t(n).author.name?t(n).author.name:"Автор не известен"),1),a[2]||(a[2]=s("hr",null,null,-1)),v(x,{post_id:t(n).id},null,8,["post_id"])])):(o(),e("div",R,"Что-то пошло не так...")),(f=t(u))!=null&&f.length?(o(),e("div",A,[(o(!0),e($,null,b(t(u),l=>(o(),e("div",{class:"post",key:l.id},[s("h2",null,[v(g,{to:`/posts/${l.id}_${l.title_en}`},{default:N(()=>[F(r(l.title),1)]),_:2},1032,["to"])]),s("p",null,r(l.preview),1)]))),128))])):(o(),e("p",q,"Публикаций пока нет"))])}}});export{G as default};
