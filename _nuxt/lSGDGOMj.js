import{f as $,u as z,r as F,c as B,h as _,a as x,i as k,d as G,j as L,v as A,t as m,k as W,o as T}from"./CHs4_4Lm.js";function P(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var C={exports:{}},S={exports:{}},D;function Z(){return D||(D=1,function(){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={rotl:function(a,i){return a<<i|a>>>32-i},rotr:function(a,i){return a<<32-i|a>>>i},endian:function(a){if(a.constructor==Number)return c.rotl(a,8)&16711935|c.rotl(a,24)&4278255360;for(var i=0;i<a.length;i++)a[i]=c.endian(a[i]);return a},randomBytes:function(a){for(var i=[];a>0;a--)i.push(Math.floor(Math.random()*256));return i},bytesToWords:function(a){for(var i=[],f=0,l=0;f<a.length;f++,l+=8)i[l>>>5]|=a[f]<<24-l%32;return i},wordsToBytes:function(a){for(var i=[],f=0;f<a.length*32;f+=8)i.push(a[f>>>5]>>>24-f%32&255);return i},bytesToHex:function(a){for(var i=[],f=0;f<a.length;f++)i.push((a[f]>>>4).toString(16)),i.push((a[f]&15).toString(16));return i.join("")},hexToBytes:function(a){for(var i=[],f=0;f<a.length;f+=2)i.push(parseInt(a.substr(f,2),16));return i},bytesToBase64:function(a){for(var i=[],f=0;f<a.length;f+=3)for(var l=a[f]<<16|a[f+1]<<8|a[f+2],s=0;s<4;s++)f*8+s*6<=a.length*8?i.push(p.charAt(l>>>6*(3-s)&63)):i.push("=");return i.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/ig,"");for(var i=[],f=0,l=0;f<a.length;l=++f%4)l!=0&&i.push((p.indexOf(a.charAt(f-1))&Math.pow(2,-2*l+8)-1)<<l*2|p.indexOf(a.charAt(f))>>>6-l*2);return i}};S.exports=c}()),S.exports}var w,q;function M(){if(q)return w;q=1;var p={utf8:{stringToBytes:function(c){return p.bin.stringToBytes(unescape(encodeURIComponent(c)))},bytesToString:function(c){return decodeURIComponent(escape(p.bin.bytesToString(c)))}},bin:{stringToBytes:function(c){for(var a=[],i=0;i<c.length;i++)a.push(c.charCodeAt(i)&255);return a},bytesToString:function(c){for(var a=[],i=0;i<c.length;i++)a.push(String.fromCharCode(c[i]));return a.join("")}}};return w=p,w}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var E,R;function J(){if(R)return E;R=1,E=function(a){return a!=null&&(p(a)||c(a)||!!a._isBuffer)};function p(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function c(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&p(a.slice(0,0))}return E}var U;function K(){return U||(U=1,function(){var p=Z(),c=M().utf8,a=J(),i=M().bin,f=function(l,s){l.constructor==String?s&&s.encoding==="binary"?l=i.stringToBytes(l):l=c.stringToBytes(l):a(l)?l=Array.prototype.slice.call(l,0):!Array.isArray(l)&&l.constructor!==Uint8Array&&(l=l.toString());for(var o=p.bytesToWords(l),d=l.length*8,n=1732584193,r=-271733879,e=-1732584194,t=271733878,u=0;u<o.length;u++)o[u]=(o[u]<<8|o[u]>>>24)&16711935|(o[u]<<24|o[u]>>>8)&4278255360;o[d>>>5]|=128<<d%32,o[(d+64>>>9<<4)+14]=d;for(var v=f._ff,h=f._gg,g=f._hh,y=f._ii,u=0;u<o.length;u+=16){var V=n,H=r,N=e,O=t;n=v(n,r,e,t,o[u+0],7,-680876936),t=v(t,n,r,e,o[u+1],12,-389564586),e=v(e,t,n,r,o[u+2],17,606105819),r=v(r,e,t,n,o[u+3],22,-1044525330),n=v(n,r,e,t,o[u+4],7,-176418897),t=v(t,n,r,e,o[u+5],12,1200080426),e=v(e,t,n,r,o[u+6],17,-1473231341),r=v(r,e,t,n,o[u+7],22,-45705983),n=v(n,r,e,t,o[u+8],7,1770035416),t=v(t,n,r,e,o[u+9],12,-1958414417),e=v(e,t,n,r,o[u+10],17,-42063),r=v(r,e,t,n,o[u+11],22,-1990404162),n=v(n,r,e,t,o[u+12],7,1804603682),t=v(t,n,r,e,o[u+13],12,-40341101),e=v(e,t,n,r,o[u+14],17,-1502002290),r=v(r,e,t,n,o[u+15],22,1236535329),n=h(n,r,e,t,o[u+1],5,-165796510),t=h(t,n,r,e,o[u+6],9,-1069501632),e=h(e,t,n,r,o[u+11],14,643717713),r=h(r,e,t,n,o[u+0],20,-373897302),n=h(n,r,e,t,o[u+5],5,-701558691),t=h(t,n,r,e,o[u+10],9,38016083),e=h(e,t,n,r,o[u+15],14,-660478335),r=h(r,e,t,n,o[u+4],20,-405537848),n=h(n,r,e,t,o[u+9],5,568446438),t=h(t,n,r,e,o[u+14],9,-1019803690),e=h(e,t,n,r,o[u+3],14,-187363961),r=h(r,e,t,n,o[u+8],20,1163531501),n=h(n,r,e,t,o[u+13],5,-1444681467),t=h(t,n,r,e,o[u+2],9,-51403784),e=h(e,t,n,r,o[u+7],14,1735328473),r=h(r,e,t,n,o[u+12],20,-1926607734),n=g(n,r,e,t,o[u+5],4,-378558),t=g(t,n,r,e,o[u+8],11,-2022574463),e=g(e,t,n,r,o[u+11],16,1839030562),r=g(r,e,t,n,o[u+14],23,-35309556),n=g(n,r,e,t,o[u+1],4,-1530992060),t=g(t,n,r,e,o[u+4],11,1272893353),e=g(e,t,n,r,o[u+7],16,-155497632),r=g(r,e,t,n,o[u+10],23,-1094730640),n=g(n,r,e,t,o[u+13],4,681279174),t=g(t,n,r,e,o[u+0],11,-358537222),e=g(e,t,n,r,o[u+3],16,-722521979),r=g(r,e,t,n,o[u+6],23,76029189),n=g(n,r,e,t,o[u+9],4,-640364487),t=g(t,n,r,e,o[u+12],11,-421815835),e=g(e,t,n,r,o[u+15],16,530742520),r=g(r,e,t,n,o[u+2],23,-995338651),n=y(n,r,e,t,o[u+0],6,-198630844),t=y(t,n,r,e,o[u+7],10,1126891415),e=y(e,t,n,r,o[u+14],15,-1416354905),r=y(r,e,t,n,o[u+5],21,-57434055),n=y(n,r,e,t,o[u+12],6,1700485571),t=y(t,n,r,e,o[u+3],10,-1894986606),e=y(e,t,n,r,o[u+10],15,-1051523),r=y(r,e,t,n,o[u+1],21,-2054922799),n=y(n,r,e,t,o[u+8],6,1873313359),t=y(t,n,r,e,o[u+15],10,-30611744),e=y(e,t,n,r,o[u+6],15,-1560198380),r=y(r,e,t,n,o[u+13],21,1309151649),n=y(n,r,e,t,o[u+4],6,-145523070),t=y(t,n,r,e,o[u+11],10,-1120210379),e=y(e,t,n,r,o[u+2],15,718787259),r=y(r,e,t,n,o[u+9],21,-343485551),n=n+V>>>0,r=r+H>>>0,e=e+N>>>0,t=t+O>>>0}return p.endian([n,r,e,t])};f._ff=function(l,s,o,d,n,r,e){var t=l+(s&o|~s&d)+(n>>>0)+e;return(t<<r|t>>>32-r)+s},f._gg=function(l,s,o,d,n,r,e){var t=l+(s&d|o&~d)+(n>>>0)+e;return(t<<r|t>>>32-r)+s},f._hh=function(l,s,o,d,n,r,e){var t=l+(s^o^d)+(n>>>0)+e;return(t<<r|t>>>32-r)+s},f._ii=function(l,s,o,d,n,r,e){var t=l+(o^(s|~d))+(n>>>0)+e;return(t<<r|t>>>32-r)+s},f._blocksize=16,f._digestsize=16,C.exports=function(l,s){if(l==null)throw new Error("Illegal argument "+l);var o=p.wordsToBytes(f(l,s));return s&&s.asBytes?o:s&&s.asString?i.bytesToString(o):p.bytesToHex(o)}}()),C.exports}var Q=K();const I=P(Q),X={key:0,style:{"max-width":"300px",margin:"100px auto","border-radius":"10px",border:"1px solid #DEDEDE",padding:"20px"}},Y={key:0},j={key:1,style:{"max-width":"300px",margin:"100px auto","border-radius":"10px",border:"1px solid #DEDEDE",padding:"20px"}},rr=$({__name:"login",setup(p){const c=z(),a=F(""),i=F(""),f=F(""),l=F(""),s=async()=>{a.value&&i.value?l.value=="login"?f.value=await c.logIn(a.value,I(i.value)):f.value=await c.regIn(a.value,I(i.value)):f.value="Не введён логин либо пароль"};return(o,d)=>{var n;return T(),B("div",null,[_(c).user?(T(),B("div",j,[x("h2",null,"Добро подаловать, "+m((n=_(c).user)==null?void 0:n.name),1)])):(T(),B("div",X,[x("form",{onSubmit:W(s,["prevent"]),style:{display:"flex","flex-direction":"column",gap:"20px"}},[k(x("input",{type:"text",placeholder:"email","onUpdate:modelValue":d[0]||(d[0]=r=>a.value=r)},null,512),[[A,a.value]]),k(x("input",{type:"password",placeholder:"pass","onUpdate:modelValue":d[1]||(d[1]=r=>i.value=r)},null,512),[[A,i.value]]),G(" "+m(_(I)(i.value))+" ",1),f.value?(T(),B("p",Y,m(f.value),1)):L("",!0),x("input",{type:"submit",onClick:d[2]||(d[2]=r=>l.value="login"),value:"Login"}),x("input",{type:"submit",onClick:d[3]||(d[3]=r=>l.value="reg"),value:"Register"})],32)]))])}}});export{rr as default};
