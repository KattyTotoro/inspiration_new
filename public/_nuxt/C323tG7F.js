import{_ as C}from"./Dx_btVeP.js";import{f as L,p as $,l as b,r as k,c as e,h as s,a as t,b as v,t as r,F as g,m as B,n as N,o,w as F,d as P,e as T}from"./DCEyihxu.js";const V={class:"content"},H={key:0,class:"postPage"},M=["innerHTML"],S={class:"authorPost"},A={key:1},D={key:2},E={key:3,class:"blockList"},q=L({__name:"[id_title]",async setup(K){var d,p;let a,_;const y=$().params.id_title.toString().split("_",1)[0],{data:c}=([a,_]=b(()=>N(`/api/post/${y}`,"$9B3_YCtZKP")),a=await a,_(),a),i=k((d=c.value)==null?void 0:d.post),u=k((p=c.value)==null?void 0:p.posts);return(Y,n)=>{var m,h,f;const x=C,w=T;return o(),e("section",V,[s(i)?(o(),e("div",H,[t("h1",null,r((m=s(i))==null?void 0:m.title),1),n[0]||(n[0]=t("br",null,null,-1)),t("div",{innerHTML:(h=s(i))==null?void 0:h.text},null,8,M),n[1]||(n[1]=t("div",{style:{clear:"both"}},null,-1)),t("p",S,"Автор поста: "+r(s(i).author.name),1),n[2]||(n[2]=t("hr",null,null,-1)),v(x,{post_id:s(i).id},null,8,["post_id"])])):(o(),e("div",A,"Что-то пошло не так...")),(f=s(u))!=null&&f.length?(o(),e("div",E,[(o(!0),e(g,null,B(s(u),l=>(o(),e("div",{class:"post",key:l.id},[t("h2",null,[v(w,{to:`/${l.rubric.title_en.toLowerCase()}/${l.id}_${l.title_en}`},{default:F(()=>[P(r(l.title),1)]),_:2},1032,["to"])]),t("p",null,r(l.preview),1)]))),128))])):(o(),e("p",D,"Публикаций пока нет"))])}}});export{q as default};
